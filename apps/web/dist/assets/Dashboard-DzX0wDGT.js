import{u as m,j as e,b as n}from"./index-CDXMD3eC.js";import{u as d}from"./useQuery-DAJvBtLK.js";function u(){const{currentWorkspace:s}=m(),{data:l}=d({queryKey:["health"],queryFn:()=>n.getHealth(),refetchInterval:3e4}),{data:r}=d({queryKey:["subscribers",s==null?void 0:s.id],queryFn:()=>n.getSubscribers(s.id),enabled:!!s}),{data:a}=d({queryKey:["invoices",s==null?void 0:s.id],queryFn:()=>n.getInvoices(s.id),enabled:!!s}),i=(r==null?void 0:r.subscribers.filter(t=>t.status==="active").length)||0,o=(r==null?void 0:r.subscribers.length)||0,c=(a==null?void 0:a.invoices.filter(t=>t.status==="pending").length)||0,x=(a==null?void 0:a.invoices.filter(t=>t.status==="paid").reduce((t,g)=>t+(g.amount||0),0))||0;return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-400 mb-2",children:"API Status"}),e.jsx("div",{className:"flex items-center gap-2",children:(l==null?void 0:l.status)==="ok"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-green-400 font-semibold text-lg",children:"Online"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-red-400 font-semibold text-lg",children:"Offline"})]})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-400 mb-2",children:"Active Subscribers"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:i}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["of ",o," total"]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-400 mb-2",children:"Pending Invoices"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:c})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-400 mb-2",children:"Total Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["$",(x/100).toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("a",{href:"/subscribers",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-colors",children:"Add Subscriber"}),e.jsx("a",{href:"/plans",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white transition-colors",children:"Manage Plans"}),e.jsx("a",{href:"/invoices",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white transition-colors",children:"View Invoices"})]})]})]})}export{u as default};
